<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>ClusterIPforPortal1+1: include/clusterip.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>include/clusterip.h File Reference</h1><code>#include &quot;<a class="el" href="params_8h-source.html">params.h</a>&quot;</code><br>

<p>
<a href="clusterip_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structClusterData.html">ClusterData</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#36cb3b01d81ffd844bbbfb54003e06ec">UINT</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#38729bcb7ed8effe51d9867653e07e72">admin</a> (void *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#fed3bbe2e9088407860cb0e1eae7c018">Server</a> (void *args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Server thread. This thread is responsible for updating the status of the shared memory between two threads.  <a href="#fed3bbe2e9088407860cb0e1eae7c018"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#944c5d76def10892e322be8528b53266">Client</a> (void *args)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Client thread Sends heartbeat/status to the remote node. Acknowledgment will be received from the Server.  <a href="#944c5d76def10892e322be8528b53266"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#deabb7fcce6ae82e394b6052120dfc87">CreateUDPServer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#b7ef1d45d92247013ed586c58dc4bbc8">StartClientServerThread</a> (<a class="el" href="classCParams.html">CParams</a> cParams)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#185960b0097a88b0289b9792df5cc9e3">hb_watcher</a> (void *args)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#4c3e19349bf9df2948552208fac3f279">InitializeEventHandler</a> (<a class="el" href="classCParams.html">CParams</a> cp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#3d160f50354f77222d95a92bab01ee35">UDPSend</a> (<a class="el" href="classCParams.html">CParams</a> *cp, <a class="el" href="clusterip_8h.html#4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> *buffer, const int len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#2567addcd977c4a2e2d3ce8d4bbfca0b">Negotiate</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Handle Negotiate action. Use this function if client is requesting to become MASTER. If we are the 'MASTER' then reject the request... TODO: include uptime in deciding who is the master.  <a href="#2567addcd977c4a2e2d3ce8d4bbfca0b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#b8c0729b3aec12f7d43d78535ba06255">Demote</a> (bool)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#afbcafa168e0e234e82f3f9dfaaf3b5e">Promote</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#90b457ff02e2b99c92f3f307095db9cd">StartAsStandby</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#202dd0ba7d4b09defca10605dada6c29">ResetRebootCounter</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#9b8b26ccd5a8be29b6d61380013fd53a">NEGOTIATE</a> = 'N'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#bc57efd0a0168549ade06532c0d4aa70">HEARTBEAT</a> = 'H'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#c817dc09f935cde9d591cf547659a682">ONLINE</a> = 'O'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#6d8464c98a0201b0c6895bf7e567c2cc">MAINTENANCE</a> = 'F'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#e356e49dcb51053705ec6bbc8ec5350f">ACK2NEG</a> = 'A'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#c98d733f87b8701d33c3fcf6d6ca79ea">ACK2HB</a> = 'B'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#a677804e0633019efb32117b6069ea6f">NAK</a> = 'K'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#820e1d4eb1d4a3fdf91d5fa6bd8712af">REJECT</a> = 'R'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#43d741784a8d4bb7036aa723575519c6">SYN</a> = 'S'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#6f02d2d2edbc5829387000f34ec2c3ca">SYNACK</a> = 'Y'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#e6dd0ea6669ec6f05f62fb59324fe768">RST</a> = 'T'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#5d64a72bfe8b2b7d9a2fdd62a6ba23f7">ACTIVE2MAINTENANCE</a> = 'M'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#ee9bbdf7573b12b670f5cdb469942027">ACTIVE2MAINTENANCE_ACK</a> = 'Z'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#3bb867922ef758d7723b6e3654850ea2">ACTIVE2STANDBY</a> = '$'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#9c0b03e49f41500500ef23c00f186928">ACTIVE2STANDBY_ACK</a> = '%'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#9a181ce3622ae0d4cb5e430e0c0512e9">CHECKSUM</a> = 'E'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#9a1a2b44e448606dda2788dd91e400e0">CHECKSUM_ACK</a> = 'Q'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#c9a7c18e34ee1cf15c52fb59e2571cd9">ACTIVE</a> = 'M'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#a3ece56b09ec6d31c3bb519009cec8a2">STANDBY</a> = 'S'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#847675d2cbc6bd7c55a3ef0302432ce3">UNKNOWN</a> = 'U'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#3d040cb54ebc14c71137364659ba13a4">ONLINE_STATUS</a> = 'A'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#7dbefd175dd3df3739d9ca9f7273389a">OFFLINE_STATUS</a> = 'I'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#0ecc1f5852fdc10b7ac0085d2f74605b">MAINTENANCE_STATUS</a> = 'S'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#2de36960957ed51885a5fa66486c9f0f">UNKNOWN_STATE</a> = '0'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#09edbda7002ce30b649444f75a40e097">NEGOTIATION_STATE</a> = '1'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#e30d8c7ca334be6b372f137812f6abd3">UNKNOWN_TO_ACTIVE</a> = '2'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#e7c93cf0ca31d30f86d3f32277020f75">UNKNOWN_TO_STANDBY</a> = '3'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#f934d39c88d8446c81f75264e5d0e53c">STANDBY_TO_ACTIVE</a> = '4'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#6fa8697bd2265204ff94e9123fe7f033">ACTIVE_TO_STANDBY</a> = '5'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#5043f4b8306858591c4334a1b3432f3f">ACTIVE_STATE</a> = '6'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#58a8b8b0fa0561aa66092c3a79e16884">STANDBY_STATE</a> = '7'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#fb710a7c7dee73ecfc0a1d876a0459a1">MAINTENANCE_STATE</a> = '8'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#5c7aadcf5006c10feed402485f301bcf">ONLINE_STATE</a> = '9'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#9d39b6a5588819623deab5eb782a9fda">ACTIVE_TO_MAINTENANCE</a> = 'A'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#737c31c09d0806a2cfddd547031668b6">STANDBY_TO_MAINTENANCE</a> = 'B'</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="clusterip_8h.html#69e238166ce30bddfd0f0c9ecac2e33f">CHECKSUM_STATE</a> = 'C'</td></tr>

</table>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="4f4bb67531a9bf6f0b9c6ad76aeba587"></a><!-- doxytag: member="clusterip.h::UCHAR" ref="4f4bb67531a9bf6f0b9c6ad76aeba587" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned char <a class="el" href="clusterip_8h.html#4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="36cb3b01d81ffd844bbbfb54003e06ec"></a><!-- doxytag: member="clusterip.h::UINT" ref="36cb3b01d81ffd844bbbfb54003e06ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef unsigned int <a class="el" href="clusterip_8h.html#36cb3b01d81ffd844bbbfb54003e06ec">UINT</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="38729bcb7ed8effe51d9867653e07e72"></a><!-- doxytag: member="clusterip.h::admin" ref="38729bcb7ed8effe51d9867653e07e72" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* admin           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="944c5d76def10892e322be8528b53266"></a><!-- doxytag: member="clusterip.h::Client" ref="944c5d76def10892e322be8528b53266" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* Client           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Client thread Sends heartbeat/status to the remote node. Acknowledgment will be received from the Server. 
<p>

</div>
</div><p>
<a class="anchor" name="deabb7fcce6ae82e394b6052120dfc87"></a><!-- doxytag: member="clusterip.h::CreateUDPServer" ref="deabb7fcce6ae82e394b6052120dfc87" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CreateUDPServer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b8c0729b3aec12f7d43d78535ba06255"></a><!-- doxytag: member="clusterip.h::Demote" ref="b8c0729b3aec12f7d43d78535ba06255" args="(bool)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Demote           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="185960b0097a88b0289b9792df5cc9e3"></a><!-- doxytag: member="clusterip.h::hb_watcher" ref="185960b0097a88b0289b9792df5cc9e3" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hb_watcher           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4c3e19349bf9df2948552208fac3f279"></a><!-- doxytag: member="clusterip.h::InitializeEventHandler" ref="4c3e19349bf9df2948552208fac3f279" args="(CParams cp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InitializeEventHandler           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCParams.html">CParams</a>&nbsp;</td>
          <td class="paramname"> <em>cp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2567addcd977c4a2e2d3ce8d4bbfca0b"></a><!-- doxytag: member="clusterip.h::Negotiate" ref="2567addcd977c4a2e2d3ce8d4bbfca0b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Negotiate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handle Negotiate action. Use this function if client is requesting to become MASTER. If we are the 'MASTER' then reject the request... TODO: include uptime in deciding who is the master. 
<p>

</div>
</div><p>
<a class="anchor" name="afbcafa168e0e234e82f3f9dfaaf3b5e"></a><!-- doxytag: member="clusterip.h::Promote" ref="afbcafa168e0e234e82f3f9dfaaf3b5e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Promote           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="202dd0ba7d4b09defca10605dada6c29"></a><!-- doxytag: member="clusterip.h::ResetRebootCounter" ref="202dd0ba7d4b09defca10605dada6c29" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ResetRebootCounter           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fed3bbe2e9088407860cb0e1eae7c018"></a><!-- doxytag: member="clusterip.h::Server" ref="fed3bbe2e9088407860cb0e1eae7c018" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* Server           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Server thread. This thread is responsible for updating the status of the shared memory between two threads. 
<p>

<p>
*** check if the source IP of the data is the cluster ip. 
</div>
</div><p>
<a class="anchor" name="90b457ff02e2b99c92f3f307095db9cd"></a><!-- doxytag: member="clusterip.h::StartAsStandby" ref="90b457ff02e2b99c92f3f307095db9cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StartAsStandby           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b7ef1d45d92247013ed586c58dc4bbc8"></a><!-- doxytag: member="clusterip.h::StartClientServerThread" ref="b7ef1d45d92247013ed586c58dc4bbc8" args="(CParams cParams)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StartClientServerThread           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCParams.html">CParams</a>&nbsp;</td>
          <td class="paramname"> <em>cParams</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3d160f50354f77222d95a92bab01ee35"></a><!-- doxytag: member="clusterip.h::UDPSend" ref="3d160f50354f77222d95a92bab01ee35" args="(CParams *cp, UCHAR *buffer, const int len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UDPSend           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCParams.html">CParams</a> *&nbsp;</td>
          <td class="paramname"> <em>cp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="clusterip_8h.html#4f4bb67531a9bf6f0b9c6ad76aeba587">UCHAR</a> *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="c98d733f87b8701d33c3fcf6d6ca79ea"></a><!-- doxytag: member="clusterip.h::ACK2HB" ref="c98d733f87b8701d33c3fcf6d6ca79ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#c98d733f87b8701d33c3fcf6d6ca79ea">ACK2HB</a> = 'B'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e356e49dcb51053705ec6bbc8ec5350f"></a><!-- doxytag: member="clusterip.h::ACK2NEG" ref="e356e49dcb51053705ec6bbc8ec5350f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#e356e49dcb51053705ec6bbc8ec5350f">ACK2NEG</a> = 'A'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c9a7c18e34ee1cf15c52fb59e2571cd9"></a><!-- doxytag: member="clusterip.h::ACTIVE" ref="c9a7c18e34ee1cf15c52fb59e2571cd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#c9a7c18e34ee1cf15c52fb59e2571cd9">ACTIVE</a> = 'M'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5d64a72bfe8b2b7d9a2fdd62a6ba23f7"></a><!-- doxytag: member="clusterip.h::ACTIVE2MAINTENANCE" ref="5d64a72bfe8b2b7d9a2fdd62a6ba23f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#5d64a72bfe8b2b7d9a2fdd62a6ba23f7">ACTIVE2MAINTENANCE</a> = 'M'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ee9bbdf7573b12b670f5cdb469942027"></a><!-- doxytag: member="clusterip.h::ACTIVE2MAINTENANCE_ACK" ref="ee9bbdf7573b12b670f5cdb469942027" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#ee9bbdf7573b12b670f5cdb469942027">ACTIVE2MAINTENANCE_ACK</a> = 'Z'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3bb867922ef758d7723b6e3654850ea2"></a><!-- doxytag: member="clusterip.h::ACTIVE2STANDBY" ref="3bb867922ef758d7723b6e3654850ea2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#3bb867922ef758d7723b6e3654850ea2">ACTIVE2STANDBY</a> = '$'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9c0b03e49f41500500ef23c00f186928"></a><!-- doxytag: member="clusterip.h::ACTIVE2STANDBY_ACK" ref="9c0b03e49f41500500ef23c00f186928" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#9c0b03e49f41500500ef23c00f186928">ACTIVE2STANDBY_ACK</a> = '%'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5043f4b8306858591c4334a1b3432f3f"></a><!-- doxytag: member="clusterip.h::ACTIVE_STATE" ref="5043f4b8306858591c4334a1b3432f3f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#5043f4b8306858591c4334a1b3432f3f">ACTIVE_STATE</a> = '6'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9d39b6a5588819623deab5eb782a9fda"></a><!-- doxytag: member="clusterip.h::ACTIVE_TO_MAINTENANCE" ref="9d39b6a5588819623deab5eb782a9fda" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#9d39b6a5588819623deab5eb782a9fda">ACTIVE_TO_MAINTENANCE</a> = 'A'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6fa8697bd2265204ff94e9123fe7f033"></a><!-- doxytag: member="clusterip.h::ACTIVE_TO_STANDBY" ref="6fa8697bd2265204ff94e9123fe7f033" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#6fa8697bd2265204ff94e9123fe7f033">ACTIVE_TO_STANDBY</a> = '5'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9a181ce3622ae0d4cb5e430e0c0512e9"></a><!-- doxytag: member="clusterip.h::CHECKSUM" ref="9a181ce3622ae0d4cb5e430e0c0512e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#9a181ce3622ae0d4cb5e430e0c0512e9">CHECKSUM</a> = 'E'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9a1a2b44e448606dda2788dd91e400e0"></a><!-- doxytag: member="clusterip.h::CHECKSUM_ACK" ref="9a1a2b44e448606dda2788dd91e400e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#9a1a2b44e448606dda2788dd91e400e0">CHECKSUM_ACK</a> = 'Q'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="69e238166ce30bddfd0f0c9ecac2e33f"></a><!-- doxytag: member="clusterip.h::CHECKSUM_STATE" ref="69e238166ce30bddfd0f0c9ecac2e33f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#69e238166ce30bddfd0f0c9ecac2e33f">CHECKSUM_STATE</a> = 'C'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bc57efd0a0168549ade06532c0d4aa70"></a><!-- doxytag: member="clusterip.h::HEARTBEAT" ref="bc57efd0a0168549ade06532c0d4aa70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#bc57efd0a0168549ade06532c0d4aa70">HEARTBEAT</a> = 'H'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6d8464c98a0201b0c6895bf7e567c2cc"></a><!-- doxytag: member="clusterip.h::MAINTENANCE" ref="6d8464c98a0201b0c6895bf7e567c2cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#6d8464c98a0201b0c6895bf7e567c2cc">MAINTENANCE</a> = 'F'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fb710a7c7dee73ecfc0a1d876a0459a1"></a><!-- doxytag: member="clusterip.h::MAINTENANCE_STATE" ref="fb710a7c7dee73ecfc0a1d876a0459a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#fb710a7c7dee73ecfc0a1d876a0459a1">MAINTENANCE_STATE</a> = '8'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0ecc1f5852fdc10b7ac0085d2f74605b"></a><!-- doxytag: member="clusterip.h::MAINTENANCE_STATUS" ref="0ecc1f5852fdc10b7ac0085d2f74605b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#0ecc1f5852fdc10b7ac0085d2f74605b">MAINTENANCE_STATUS</a> = 'S'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a677804e0633019efb32117b6069ea6f"></a><!-- doxytag: member="clusterip.h::NAK" ref="a677804e0633019efb32117b6069ea6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#a677804e0633019efb32117b6069ea6f">NAK</a> = 'K'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="9b8b26ccd5a8be29b6d61380013fd53a"></a><!-- doxytag: member="clusterip.h::NEGOTIATE" ref="9b8b26ccd5a8be29b6d61380013fd53a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#9b8b26ccd5a8be29b6d61380013fd53a">NEGOTIATE</a> = 'N'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="09edbda7002ce30b649444f75a40e097"></a><!-- doxytag: member="clusterip.h::NEGOTIATION_STATE" ref="09edbda7002ce30b649444f75a40e097" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#09edbda7002ce30b649444f75a40e097">NEGOTIATION_STATE</a> = '1'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7dbefd175dd3df3739d9ca9f7273389a"></a><!-- doxytag: member="clusterip.h::OFFLINE_STATUS" ref="7dbefd175dd3df3739d9ca9f7273389a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#7dbefd175dd3df3739d9ca9f7273389a">OFFLINE_STATUS</a> = 'I'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="c817dc09f935cde9d591cf547659a682"></a><!-- doxytag: member="clusterip.h::ONLINE" ref="c817dc09f935cde9d591cf547659a682" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#c817dc09f935cde9d591cf547659a682">ONLINE</a> = 'O'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5c7aadcf5006c10feed402485f301bcf"></a><!-- doxytag: member="clusterip.h::ONLINE_STATE" ref="5c7aadcf5006c10feed402485f301bcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#5c7aadcf5006c10feed402485f301bcf">ONLINE_STATE</a> = '9'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3d040cb54ebc14c71137364659ba13a4"></a><!-- doxytag: member="clusterip.h::ONLINE_STATUS" ref="3d040cb54ebc14c71137364659ba13a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#3d040cb54ebc14c71137364659ba13a4">ONLINE_STATUS</a> = 'A'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="820e1d4eb1d4a3fdf91d5fa6bd8712af"></a><!-- doxytag: member="clusterip.h::REJECT" ref="820e1d4eb1d4a3fdf91d5fa6bd8712af" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#820e1d4eb1d4a3fdf91d5fa6bd8712af">REJECT</a> = 'R'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e6dd0ea6669ec6f05f62fb59324fe768"></a><!-- doxytag: member="clusterip.h::RST" ref="e6dd0ea6669ec6f05f62fb59324fe768" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#e6dd0ea6669ec6f05f62fb59324fe768">RST</a> = 'T'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="a3ece56b09ec6d31c3bb519009cec8a2"></a><!-- doxytag: member="clusterip.h::STANDBY" ref="a3ece56b09ec6d31c3bb519009cec8a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#a3ece56b09ec6d31c3bb519009cec8a2">STANDBY</a> = 'S'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="58a8b8b0fa0561aa66092c3a79e16884"></a><!-- doxytag: member="clusterip.h::STANDBY_STATE" ref="58a8b8b0fa0561aa66092c3a79e16884" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#58a8b8b0fa0561aa66092c3a79e16884">STANDBY_STATE</a> = '7'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f934d39c88d8446c81f75264e5d0e53c"></a><!-- doxytag: member="clusterip.h::STANDBY_TO_ACTIVE" ref="f934d39c88d8446c81f75264e5d0e53c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#f934d39c88d8446c81f75264e5d0e53c">STANDBY_TO_ACTIVE</a> = '4'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="737c31c09d0806a2cfddd547031668b6"></a><!-- doxytag: member="clusterip.h::STANDBY_TO_MAINTENANCE" ref="737c31c09d0806a2cfddd547031668b6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#737c31c09d0806a2cfddd547031668b6">STANDBY_TO_MAINTENANCE</a> = 'B'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="43d741784a8d4bb7036aa723575519c6"></a><!-- doxytag: member="clusterip.h::SYN" ref="43d741784a8d4bb7036aa723575519c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#43d741784a8d4bb7036aa723575519c6">SYN</a> = 'S'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6f02d2d2edbc5829387000f34ec2c3ca"></a><!-- doxytag: member="clusterip.h::SYNACK" ref="6f02d2d2edbc5829387000f34ec2c3ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#6f02d2d2edbc5829387000f34ec2c3ca">SYNACK</a> = 'Y'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="847675d2cbc6bd7c55a3ef0302432ce3"></a><!-- doxytag: member="clusterip.h::UNKNOWN" ref="847675d2cbc6bd7c55a3ef0302432ce3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#847675d2cbc6bd7c55a3ef0302432ce3">UNKNOWN</a> = 'U'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2de36960957ed51885a5fa66486c9f0f"></a><!-- doxytag: member="clusterip.h::UNKNOWN_STATE" ref="2de36960957ed51885a5fa66486c9f0f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#2de36960957ed51885a5fa66486c9f0f">UNKNOWN_STATE</a> = '0'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e30d8c7ca334be6b372f137812f6abd3"></a><!-- doxytag: member="clusterip.h::UNKNOWN_TO_ACTIVE" ref="e30d8c7ca334be6b372f137812f6abd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#e30d8c7ca334be6b372f137812f6abd3">UNKNOWN_TO_ACTIVE</a> = '2'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e7c93cf0ca31d30f86d3f32277020f75"></a><!-- doxytag: member="clusterip.h::UNKNOWN_TO_STANDBY" ref="e7c93cf0ca31d30f86d3f32277020f75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char <a class="el" href="clusterip_8h.html#e7c93cf0ca31d30f86d3f32277020f75">UNKNOWN_TO_STANDBY</a> = '3'          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Mar 7 17:34:12 2012 for ClusterIPforPortal1+1 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
